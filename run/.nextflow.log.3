Nov-06 17:17:05.154 [main] DEBUG nextflow.cli.Launcher - $> nextflow run /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/main.nf --public_dataxlsx /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/SRP360207_SampleSheetTemplate_fx2482.xlsx --lab Trainor --requester fx2482 -profile slurm
Nov-06 17:17:05.241 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.04.2
Nov-06 17:17:05.257 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/by2747/.nextflow/plugins; core-plugins: nf-amazon@1.16.2,nf-azure@1.0.1,nf-codecommit@0.1.4,nf-console@1.0.5,nf-ga4gh@1.0.5,nf-google@1.7.3,nf-tower@1.5.12,nf-wave@0.8.3
Nov-06 17:17:05.269 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Nov-06 17:17:05.270 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Nov-06 17:17:05.273 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Nov-06 17:17:05.282 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Nov-06 17:17:05.294 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/nextflow.config
Nov-06 17:17:05.295 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/nextflow.config
Nov-06 17:17:05.314 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `slurm`
Nov-06 17:17:05.847 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, slurm]
Nov-06 17:17:05.871 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Nov-06 17:17:05.887 [main] INFO  nextflow.cli.CmdRun - Launching `/n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/main.nf` [festering_mendel] DSL2 - revision: 92d05b6413
Nov-06 17:17:05.888 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Nov-06 17:17:05.888 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Nov-06 17:17:05.896 [main] DEBUG nextflow.secret.LocalSecretsProvider - Secrets store: /home/by2747/.nextflow/secrets/store.json
Nov-06 17:17:05.899 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@1f346ad2] - activable => nextflow.secret.LocalSecretsProvider@1f346ad2
Nov-06 17:17:05.955 [main] DEBUG nextflow.Session - Session UUID: f119afee-4050-4910-bbad-9d6978483f8e
Nov-06 17:17:05.955 [main] DEBUG nextflow.Session - Run name: festering_mendel
Nov-06 17:17:05.956 [main] DEBUG nextflow.Session - Executor pool size: 64
Nov-06 17:17:05.966 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=192; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Nov-06 17:17:05.990 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.04.2 build 5870
  Created: 08-06-2023 08:29 UTC (03:29 CDT)
  System: Linux 4.18.0-477.13.1.el8_8.x86_64
  Runtime: Groovy 3.0.16 on OpenJDK 64-Bit Server VM 17.0.8+7-LTS
  Encoding: UTF-8 (UTF-8)
  Process: 3375596@cerebro [10.0.53.5]
  CPUs: 64 - Mem: 251.5 GB (14 GB) - Swap: 8 GB (316 KB)
Nov-06 17:17:06.025 [main] DEBUG nextflow.Session - Work-dir: /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/work [nfs]
Nov-06 17:17:06.046 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Nov-06 17:17:06.055 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Nov-06 17:17:06.075 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Nov-06 17:17:06.084 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 65; maxThreads: 1000
Nov-06 17:17:06.193 [main] DEBUG nextflow.Session - Session start
Nov-06 17:17:06.565 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Nov-06 17:17:07.820 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:lil_mem` matches labels `lil_mem` for process with name samplesheet_process_publicSRAGEO
Nov-06 17:17:07.839 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:07.839 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:07.851 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Nov-06 17:17:07.857 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
Nov-06 17:17:07.861 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Nov-06 17:17:07.983 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:big_mem` matches labels `big_mem` for process with name SECUNDO3:STAR_n_mkdirs
Nov-06 17:17:07.985 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:07.985 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:07.998 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:big_mem` matches labels `big_mem` for process with name SECUNDO3:RSEM_calculate
Nov-06 17:17:07.998 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:07.998 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.003 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:big_mem` matches labels `big_mem` for process with name SECUNDO3:ERCC_control
Nov-06 17:17:08.003 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:08.003 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.007 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:big_mem` matches labels `big_mem` for process with name SECUNDO3:picard_run
Nov-06 17:17:08.008 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:08.008 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.024 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:small_mem` matches labels `small_mem` for process with name FINAL_REPORT:copy_index_files
Nov-06 17:17:08.025 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:08.025 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.034 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:small_mem` matches labels `small_mem` for process with name FINAL_REPORT:target_tsv_lims_json_PublicData
Nov-06 17:17:08.034 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:08.034 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.041 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:small_mem` matches labels `small_mem` for process with name FINAL_REPORT:run_RmarkDown_script
Nov-06 17:17:08.042 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:08.042 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.047 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:small_mem` matches labels `small_mem` for process with name FINAL_REPORT:biotools_orderAppend
Nov-06 17:17:08.047 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Nov-06 17:17:08.047 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Nov-06 17:17:08.050 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: ERCC_control, FINAL_REPORT:target_tsv_lims_json_PublicData, SECUNDO3:RSEM_calculate, STAR_n_mkdirs, deep_tools_coverage, SECUNDO3:picard_run, samplesheet_process, deep_tools_correlation, picard_run, bowtie2_samtools_n_mkdirs, FINAL_REPORT:copy_index_files, target_tsv_lims_json, SECUNDO3:STAR_n_mkdirs, run_RmarkDown_script, copy_index_files, biotools_orderAppend, SECUNDO3:ERCC_control, target_tsv_lims_json_PublicData, FINAL_REPORT:biotools_orderAppend, samplesheet_process_publicSRAGEO, FINAL_REPORT:run_RmarkDown_script, RSEM_calculate
Nov-06 17:17:08.050 [main] DEBUG nextflow.Session - Igniting dataflow network (9)
Nov-06 17:17:08.051 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > samplesheet_process_publicSRAGEO
Nov-06 17:17:08.051 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SECUNDO3:STAR_n_mkdirs
Nov-06 17:17:08.052 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SECUNDO3:RSEM_calculate
Nov-06 17:17:08.052 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SECUNDO3:ERCC_control
Nov-06 17:17:08.053 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SECUNDO3:picard_run
Nov-06 17:17:08.054 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FINAL_REPORT:copy_index_files
Nov-06 17:17:08.055 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FINAL_REPORT:target_tsv_lims_json_PublicData
Nov-06 17:17:08.055 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FINAL_REPORT:run_RmarkDown_script
Nov-06 17:17:08.056 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FINAL_REPORT:biotools_orderAppend
Nov-06 17:17:08.056 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Nov-06 17:17:08.057 [main] DEBUG nextflow.Session - Session await
Nov-06 17:17:08.140 [Actor Thread 22] DEBUG nextflow.conda.CondaCache - conda found local env for environment=/home/by2747/miniconda3/envs/Secundo2; path=/home/by2747/miniconda3/envs/Secundo2
Nov-06 17:17:08.300 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process samplesheet_process_publicSRAGEO > jobId: 74565; workDir: /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/work/d6/894aa113bacf3f30bd7476c236fefd
Nov-06 17:17:08.301 [Task submitter] INFO  nextflow.Session - [d6/894aa1] Submitted process > samplesheet_process_publicSRAGEO
Nov-06 17:17:47.876 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 74565; id: 1; name: samplesheet_process_publicSRAGEO; status: COMPLETED; exit: 1; error: -; workDir: /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/work/d6/894aa113bacf3f30bd7476c236fefd started: 1699312632873; exited: 2023-11-06T23:17:15.989349Z; ]
Nov-06 17:17:47.883 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=samplesheet_process_publicSRAGEO; work-dir=/n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/work/d6/894aa113bacf3f30bd7476c236fefd
  error [nextflow.exception.ProcessFailedException]: Process `samplesheet_process_publicSRAGEO` terminated with an error exit status (1)
Nov-06 17:17:47.906 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'samplesheet_process_publicSRAGEO'

Caused by:
  Process `samplesheet_process_publicSRAGEO` terminated with an error exit status (1)

Command executed:

  ml sratoolkit/3.0.1
  
  sra_download.dry_run.r -s /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/SRP360207_SampleSheetTemplate_fx2482.xlsx -l Trainor -r fx2482 
  
  cp ./*_samplesheet.csv ./*_cmds.sh /n/core/Bioinformatics/PublicData/analysis_sample_sheet/
  
  PublicData_samplesheet_Make.py -s ./*_samplesheet.csv -i /n/analysis/genomes/sampleSheet_ROBOINDEX_2023.csv -l Trainor -r fx2482

Command exit status:
  1

Command output:
  (empty)

Command error:
  [2023-11-06 17:17:12.708476] Program in downloading mode. First clear SRA cache folder: /n/ngs/tools/secundo/scripts/temp_SRR_files...
  [2023-11-06 17:17:12.710762] Loading sample sheet...
  [2023-11-06 17:17:13.139695] Generating commands for fastq downloading...
  [2023-11-06 17:17:13.971417] Input ID is already SRR ID: SRR18054176
  [2023-11-06 17:17:14.675235] Input ID is already SRR ID: SRR18054177
  [2023-11-06 17:17:15.331014] Input ID is already SRR ID: SRR18054178
  Error in ans[[1]] : subscript out of bounds
  Calls: main ... parse_esearch.XMLInternalDocument -> xmlValue -> [[ -> [[.XMLInternalDocument
  Execution halted

Work dir:
  /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/work/d6/894aa113bacf3f30bd7476c236fefd

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Nov-06 17:17:47.911 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `samplesheet_process_publicSRAGEO` terminated with an error exit status (1)
Nov-06 17:17:47.922 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] SECUNDO3:STAR_n_mkdirs
  status=ACTIVE
  port 0: (queue) closed; channel: meta
  port 1: (cntrl) -     ; channel: $

[process] SECUNDO3:RSEM_calculate
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] SECUNDO3:ERCC_control
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] SECUNDO3:picard_run
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] FINAL_REPORT:biotools_orderAppend

Nov-06 17:17:47.925 [main] DEBUG nextflow.Session - Session await > all processes finished
Nov-06 17:17:47.927 [main] DEBUG nextflow.Session - Session await > all barriers passed
Nov-06 17:17:47.936 [main] INFO  nextflow.script.BaseScript -         Secundo3 Pipeline execution summary
        ---------------------------
        Completed at: 2023-11-06T17:17:47.928023750-06:00
        Duration    : 41.9s
        workDir     : /n/core/Bioinformatics/analysis/CompBio/boweny/nf-Pipeline/Scundo3_v3.0/run/work
        Job status : failed, error message: [2023-11-06 17:17:12.708476] Program in downloading mode. First clear SRA cache folder: /n/ngs/tools/secundo/scripts/temp_SRR_files...
[2023-11-06 17:17:12.710762] Loading sample sheet...
[2023-11-06 17:17:13.139695] Generating commands for fastq downloading...
[2023-11-06 17:17:13.971417] Input ID is already SRR ID: SRR18054176
[2023-11-06 17:17:14.675235] Input ID is already SRR ID: SRR18054177
[2023-11-06 17:17:15.331014] Input ID is already SRR ID: SRR18054178
Error in ans[[1]] : subscript out of bounds
Calls: main ... parse_esearch.XMLInternalDocument -> xmlValue -> [[ -> [[.XMLInternalDocument
Execution halted
        
Nov-06 17:17:48.039 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=2m 55s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=5; peakMemory=30 GB; ]
Nov-06 17:17:48.145 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Nov-06 17:17:48.167 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
